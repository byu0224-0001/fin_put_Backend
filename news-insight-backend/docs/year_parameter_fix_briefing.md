# ì—°ë„ íŒŒë¼ë¯¸í„° ìë™í™” ê°œì„  ë¸Œë¦¬í•‘

**ì‘ì„±ì¼**: 2025-12-28  
**ìƒíƒœ**: âœ… ì™„ë£Œ

---

## ğŸ“‹ ë¬¸ì œ í™•ì¸

### í˜„ì¬ ìƒíƒœ

- `refetch_all_missing_revenue.py`ì˜ `year` íŒŒë¼ë¯¸í„°ê°€ 2024ë¡œ ê³ ì •ë¨
- í˜„ì¬ ë‚ ì§œ: 2025ë…„ 12ì›” 28ì¼
- 2024ë…„ ë°ì´í„°ë§Œ ê°€ì ¸ì™€ì„œ ìµœì‹  ë°ì´í„°ë¥¼ ë†“ì¹  ìˆ˜ ìˆìŒ

---

## âœ… ì™„ë£Œëœ ê°œì„ 

### 1. `year` íŒŒë¼ë¯¸í„° ê¸°ë³¸ê°’ ë³€ê²½

**ë³€ê²½ ì‚¬í•­:**
- `refetch_all_missing_revenue.py`: `year: int = 2024` â†’ `year: Optional[int] = None`
- `dart_parser.py`: 
  - `extract_key_sections(target_year: int = 2024)` â†’ `target_year: Optional[int] = None`
  - `get_raw_html_for_revenue_sections(year: int = 2024)` â†’ `year: Optional[int] = None`
- `fetch_and_update_revenue`: `year: int = 2024` â†’ `year: Optional[int] = None`

**ë™ì‘:**
- `year=None`ì´ë©´ `find_business_report(ticker, target_year=None)` í˜¸ì¶œ
- `find_business_report`ëŠ” `target_year=None`ì¼ ë•Œ ìµœì‹  ì •ê¸° ê³µì‹œë¥¼ ìë™ìœ¼ë¡œ ì„ íƒ
- ìµœê·¼ 3ë…„ì¹˜ ë³´ê³ ì„œë¥¼ ê²€ìƒ‰í•˜ì—¬ ê°€ì¥ ìµœì‹  ë³´ê³ ì„œ ì„ íƒ

### 2. argparse ì˜µì…˜ ì—…ë°ì´íŠ¸

**ë³€ê²½ ì‚¬í•­:**
- `--year` ì˜µì…˜ ê¸°ë³¸ê°’: `2024` â†’ `None`
- ë„ì›€ë§ í…ìŠ¤íŠ¸: "ëŒ€ìƒ ì—°ë„" â†’ "ëŒ€ìƒ ì—°ë„ (ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ìµœì‹  ì •ê¸° ê³µì‹œ ìë™ ì„ íƒ)"

### 3. ë¡œê·¸ ë©”ì‹œì§€ ê°œì„ 

**ë³€ê²½ ì‚¬í•­:**
- `year`ê°€ `None`ì´ë©´ "ëŒ€ìƒ ì—°ë„: ìµœì‹  ì •ê¸° ê³µì‹œ ìë™ ì„ íƒ" í‘œì‹œ
- `year`ê°€ ì§€ì •ë˜ë©´ "ëŒ€ìƒ ì—°ë„: {year}ë…„" í‘œì‹œ

---

## ğŸ” ë™ì‘ ë°©ì‹

### ìµœì‹  ì •ê¸° ê³µì‹œ ìë™ ì„ íƒ ë¡œì§

1. **`find_business_report(ticker, target_year=None)` í˜¸ì¶œ**
   - ìµœê·¼ 3ë…„ì¹˜ ë³´ê³ ì„œ ê²€ìƒ‰ (í˜„ì¬ ì—°ë„ - 3ë…„ ~ í˜„ì¬)
   - ì‚¬ì—…ë³´ê³ ì„œ ìš°ì„  ì¡°íšŒ (A001)
   - ì—†ìœ¼ë©´ ì •ê¸° ê³µì‹œ ì „ì²´ ì¡°íšŒ (A001, A002, A003)

2. **ë³´ê³ ì„œ ì„ íƒ ìš°ì„ ìˆœìœ„**
   - ì ‘ìˆ˜ì¼ì ê¸°ì¤€ ìµœì‹  ë³´ê³ ì„œ ì„ íƒ
   - ì‚¬ì—…ë³´ê³ ì„œ > ë°˜ê¸°ë³´ê³ ì„œ > ë¶„ê¸°ë³´ê³ ì„œ

3. **Fallback**
   - ì‚¬ì—…ë³´ê³ ì„œ ì—†ìœ¼ë©´ ë¶„ê¸°/ë°˜ê¸° ë³´ê³ ì„œë¡œ í´ë°±

---

## ğŸ“ ë³€ê²½ëœ íŒŒì¼

### 1. `refetch_all_missing_revenue.py`

**ë³€ê²½ ì‚¬í•­:**
- `refetch_all_missing_revenue()`: `year: Optional[int] = None`
- `fetch_and_update_revenue()`: `year: Optional[int] = None`
- `extract_key_sections()` í˜¸ì¶œ: `target_year=year` (ëª…ì‹œì  íŒŒë¼ë¯¸í„°)
- `get_raw_html_for_revenue_sections()` í˜¸ì¶œ: `year=year` (ëª…ì‹œì  íŒŒë¼ë¯¸í„°)
- argparse: `--year` ê¸°ë³¸ê°’ `None`
- ë¡œê·¸ ë©”ì‹œì§€: ì—°ë„ ìë™ ì„ íƒ í‘œì‹œ

### 2. `dart_parser.py`

**ë³€ê²½ ì‚¬í•­:**
- `extract_key_sections()`: `target_year: Optional[int] = None`
- `get_raw_html_for_revenue_sections()`: `year: Optional[int] = None`

---

## ğŸš€ ì‚¬ìš©ë²•

### ê¸°ë³¸ ì‚¬ìš© (ìµœì‹  ì •ê¸° ê³µì‹œ ìë™ ì„ íƒ)

```powershell
# ìµœì‹  ì •ê¸° ê³µì‹œ ìë™ ì„ íƒ
python scripts/refetch_all_missing_revenue.py --apply

# íŠ¹ì • í‹°ì»¤ë§Œ ì¬ìˆ˜ì§‘ (ìµœì‹  ì •ê¸° ê³µì‹œ)
python scripts/refetch_all_missing_revenue.py --ticker 096770 --apply
```

### íŠ¹ì • ì—°ë„ ì§€ì • (í•„ìš” ì‹œ)

```powershell
# 2024ë…„ ë³´ê³ ì„œë§Œ ê°€ì ¸ì˜¤ê¸°
python scripts/refetch_all_missing_revenue.py --year 2024 --apply

# 2023ë…„ ë³´ê³ ì„œë§Œ ê°€ì ¸ì˜¤ê¸°
python scripts/refetch_all_missing_revenue.py --year 2023 --apply
```

---

## ğŸ“Š ì˜ˆìƒ ê²°ê³¼

### ìµœì‹  ì •ê¸° ê³µì‹œ ìë™ ì„ íƒ ì‹œ

**2025ë…„ 12ì›” 28ì¼ ê¸°ì¤€:**
- 2024ë…„ ì‚¬ì—…ë³´ê³ ì„œ (2025ë…„ ìƒë°˜ê¸° ì œì¶œ)
- ë˜ëŠ” 2025ë…„ ë¶„ê¸°/ë°˜ê¸° ë³´ê³ ì„œ (ê°€ì¥ ìµœì‹ )

**ì¥ì :**
- í•­ìƒ ìµœì‹  ë°ì´í„° ìˆ˜ì§‘
- ì—°ë„ ë³€ê²½ ì‹œ ìë™ ëŒ€ì‘
- ìˆ˜ë™ ì—°ë„ ì§€ì • ë¶ˆí•„ìš”

---

## ğŸ¯ ìµœì¢… ê²°ë¡ 

**ì™„ë£Œëœ ê°œì„ :**
- âœ… `year` íŒŒë¼ë¯¸í„° ê¸°ë³¸ê°’ `None`ìœ¼ë¡œ ë³€ê²½
- âœ… ìµœì‹  ì •ê¸° ê³µì‹œ ìë™ ì„ íƒ ë¡œì§ í™œìš©
- âœ… argparse ì˜µì…˜ ë° ë¡œê·¸ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸

**íš¨ê³¼:**
- í•­ìƒ ìµœì‹  ë°ì´í„° ìˆ˜ì§‘ ê°€ëŠ¥
- ì—°ë„ ê³ ì • ë¬¸ì œ í•´ê²°
- ì‚¬ìš©ì í¸ì˜ì„± í–¥ìƒ

---

**ì‘ì„±ì**: AI Assistant  
**ê²€í†  í•„ìš”**: ìµœì‹  ì •ê¸° ê³µì‹œ ìë™ ì„ íƒ í…ŒìŠ¤íŠ¸

